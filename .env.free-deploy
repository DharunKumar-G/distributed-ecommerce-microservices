# Environment Variables for Free Tier Deployment
# Copy this to .env and fill in your values from free providers

# ============================================
# DATABASE CONNECTIONS (Free Tiers)
# ============================================

# Supabase PostgreSQL (Free 500MB)
# Get from: https://supabase.com → Project Settings → Database
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT].supabase.co:5432/postgres

# MongoDB Atlas (Free 512MB)
# Get from: https://mongodb.com/atlas → Connect → Drivers
MONGODB_URI=mongodb+srv://[USER]:[PASSWORD]@[CLUSTER].mongodb.net/catalog_db?retryWrites=true&w=majority

# ============================================
# CACHING & MESSAGING (Upstash Free Tiers)
# ============================================

# Upstash Redis (Free 10K commands/day)
# Get from: https://upstash.com → Redis → Create Database
REDIS_URL=rediss://default:[YOUR-PASSWORD]@[YOUR-ENDPOINT].upstash.io:6379

# Upstash Kafka (Free 10K messages/day)
# Get from: https://upstash.com → Kafka → Create Cluster
KAFKA_BROKERS=[YOUR-ENDPOINT].upstash.io:9092
KAFKA_SASL_USERNAME=[YOUR-USERNAME]
KAFKA_SASL_PASSWORD=[YOUR-PASSWORD]
KAFKA_SASL_MECHANISM=SCRAM-SHA-256
KAFKA_SECURITY_PROTOCOL=SASL_SSL

# ============================================
# SEARCH (Bonsai Free Tier)
# ============================================

# Bonsai Elasticsearch (Free 125MB)
# Get from: https://bonsai.io → Create Cluster
ELASTICSEARCH_URL=https://[USER]:[PASSWORD]@[CLUSTER].bonsai.io:443

# ============================================
# PAYMENT PROCESSING (Stripe Test Mode - Free)
# ============================================

# Stripe Test Keys (Free - no real charges)
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_YOUR_TEST_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_TEST_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET

# ============================================
# AUTHENTICATION
# ============================================

# JWT Secret (generate your own)
# Run: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this

# ============================================
# SERVICE PORTS (for local dev)
# ============================================

ORDER_SERVICE_PORT=8081
INVENTORY_SERVICE_PORT=8082
CATALOG_SERVICE_PORT=8083
PAYMENT_SERVICE_PORT=8084
NOTIFICATION_SERVICE_PORT=8085
USER_SERVICE_PORT=8086
WEB3_SERVICE_PORT=8087

# ============================================
# MONITORING (Optional - Grafana Cloud Free)
# ============================================

# Grafana Cloud (Free 10K metrics)
# Get from: https://grafana.com/products/cloud/
GRAFANA_REMOTE_WRITE_URL=https://prometheus-[YOUR-REGION].grafana.net/api/prom/push
GRAFANA_USERNAME=[YOUR-USER-ID]
GRAFANA_API_KEY=[YOUR-API-KEY]

# ============================================
# TRACING (Optional - Disable for free deploy)
# ============================================

# Leave empty to disable Jaeger tracing
JAEGER_AGENT_HOST=
JAEGER_AGENT_PORT=

# ============================================
# SERVICE URLs (Update after deployment)
# ============================================

# Railway URLs (example)
ORDER_SERVICE_URL=https://order-service-production.up.railway.app
INVENTORY_SERVICE_URL=https://inventory-service-production.up.railway.app
CATALOG_SERVICE_URL=https://catalog-service-production.up.railway.app
PAYMENT_SERVICE_URL=https://payment-service-production.up.railway.app
NOTIFICATION_SERVICE_URL=https://notification-service-production.up.railway.app
USER_SERVICE_URL=https://user-service-production.up.railway.app
WEB3_SERVICE_URL=https://web3-service-production.up.railway.app

# Frontend URL
FRONTEND_URL=https://your-app.vercel.app

# ============================================
# QUICK SETUP LINKS
# ============================================
# 
# 1. MongoDB Atlas:    https://mongodb.com/atlas/database
# 2. Supabase:         https://supabase.com/dashboard
# 3. Upstash Redis:    https://console.upstash.com/redis
# 4. Upstash Kafka:    https://console.upstash.com/kafka
# 5. Bonsai:           https://bonsai.io
# 6. Stripe:           https://dashboard.stripe.com/test/apikeys
# 7. Grafana Cloud:    https://grafana.com/products/cloud/
#
# Total Cost: $0/month (all free tiers!)
# ============================================
